<template>
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1081.01 204.21">
    <g ref="mainLogo" class="main-logo">
      <path
        d="M2.45,96.07S51.28,47.8,62.21,46.24c7-1,8.75,2.5,10,5,1,2,3,6-2,9s-7,4-7,4-3,1-3,4,1.5,22.5-1.5,33.5c-3.18,11.66-6.5,15.5-2.5,14.5s23.5-16.5,34-32,39-28,46-24,15,14-4,32-29.43,9.86-29.43,9.86"
      />
      <path
        d="M49.71,70.74s-30.5,17.5-34.5,35.5,11,19.38,18,15.41c10.5-5.91,12.5-13.91,14.5-37.91"
      />
      <path d="M2.12,115.26s-2.92,20.42,20.09,21c20.5.5,35-3,47-17" />
      <path d="M80,116.58S76,134.23,100.21,135.24c24,1,36.5-11.5,36.5-11.5" />
      <path
        d="M129.71,70.74s-36.5,16.5-38.5,37.5,27.7,14,40.35,7,35.65-32,42.65-44,14-18,22-17,14,6,8,15-14.5,18.5-18.5,24.5c-5.23,7.85-19,27-2,32"
      />
      <path
        d="M185.46,73.81s-24.25,27.43-24.25,44.43,13.54,20.1,23.27,17,22.23-14.55,29.23-25.55"
      />
      <path
        d="M184.71,118.74a143.49,143.49,0,0,0,35-34c8-11,11.5-24.5,16.5-26.5s14-2,16,5a9.5,9.5,0,0,1-3.36,10.57"
      />
      <path
        d="M243.36,79.73s-20.15,24.51-20.15,34.51,5,14,14,7,18.2-16.88,36.1-39.94,18.9-26.06,21.9-28.06,9.07-3.72,12.53-1.36,5.47,5.36,1.47,9.36"
      />
      <path d="M209.71,125.74s14,30,43.5-1.5" />
      <path
        d="M282.21,90.24s-19,29-20,37,4,10.78,10,8.89,22.5-29.39,27.5-37.39,25-29,42-30"
      />
      <path
        d="M330.71,80.74s-22.5,32.5-18.5,45.5,17,10,21,9,19.5-5.5,27.5-13.5"
      />
      <path
        d="M291.21,89.24s24.14-28.75,39-31c16.5-2.5,22,3,21,15s-14,22.51-18.5,32.5-2.5,14.5,2.5,14.5,16-2,23-12,44-62,71-47"
      />
      <path d="M369.71,108.74s-7,26.54,8.76,27.52,29-6.93,37.37-23" />
      <path
        d="M423.21,70.24s-16.5-2.5-31.5,20.5-9.5,32.5-3.5,31.5,16-12,35-40,28-29,31-22-11,38-13,45"
      />
      <path d="M395.21,144.24s-35,18-42,32,11,12,25,1,47-47,55-91" />
      <path
        d="M345.21,189.24s-2,19,22,11,36-22,49-41,22-42,22-42,8.43-5,12.72-7,9.28-5,15.28-13,14-21,20-32,10-23,19-24,14.5,6.5,7.5,13.5"
      />
      <path d="M501.71,72.74s-22,43-49,48" />
      <path
        d="M516.71,73.74s-14.5,18.5-20.5,30.5-2.23,25,9.5,30.5c15,7,32.63-5.5,34.57-14.5"
      />
      <path
        d="M496.71,63.74s26-6,33,3c5.44,7-1,18-11.5,33.5-5.17,7.63-13.35,20.9,1.33,21.45s42.67-45.45,55.67-53.45,24.17-11.93,34.59-4,3.91,23.46-2.09,34.46"
      />
      <path
        d="M605.71,74.74s-9-20-38.5,21.5c-20.57,28.94,4.9,40.73,22.5,12.5"
      />
      <path d="M548.84,116.58s-.23,18.85,12.87,21.16c17,3,30.11-9.21,38-24" />
      <path d="M596.71,77.74s-12,20,2,27,26.5-6.5,36.5-20.5,35-35,51-21" />
      <path d="M623.71,111.74s-5,44,35,19" />
      <path d="M669.21,110.24s-11,20,2,26,35-4,43-14" />
      <path
        d="M676.26,70.08s-17-1.84-30,20.16-13,45,8,25,24-32,40-51,35-48,42-52,23-6,10,9-26,32-41,53-23,33-23,40,3,12,18,4,26-21,35-34,27.22-27.64,40.11-24.32,22.89,9.32,7.89,38.32"
      />
      <path
        d="M781.71,73.74s-10-15-33.5,15.5c-17.83,23.14-10.74,35.81-2.37,34.91s16.87-11.41,19.87-15.41"
      />
      <path d="M724.73,116.58s-1.52,17.66,13.48,20.66,29-8,38-25" />
      <path
        d="M773.71,77.74s-15.63,24.5,3.43,28,29.07-14.5,37.07-25.5,18-24,18-24"
      />
      <path
        d="M817.27,48.59h19.22s14.72-17.35,18.72-21.35,9-7,15-2,1,9-5,15-11,12-11,12"
      />
      <path d="M803.24,116.8s-2.24,11,7.47,16.94c13,8,28,3,39.61-10.84" />
      <path
        d="M868.59,60.21H847.45s-23.11,27.16-30.18,41.1-.07,20.25,9.43,21.59,32.93-18.27,46.22-41,39.79-52.2,61.79-69.2C949.93,1,960-2.52,962.1,9.36s-4.89,17.88-62.89,79.88"
      />
      <path d="M859,116.8s1.22,21.44,28.22,18.44,34.5-14.5,34.5-14.5" />
      <path
        d="M942.21,25.24s-49,45-62,73,5.13,27.11,24.57,18.56,33.43-33.56,44.43-42.56,23-17,37-14,5,22-3,29-25,16-32,10"
      />
      <path d="M928.71,112.74s-4,17,13.5,21.5c15.77,4,33.13-2.34,43.57-12.17" />
      <path
        d="M984.71,68.74s-26,0-43.5,34.5c-10.34,20.38,16,20,26,17s29-12,41-30,34-32,46-31,17,12,6,26-27.59,20.21-36.79,15.11"
      />
      <path
        d="M1054.21,67.24s-31,17-38,34,2.83,24.24,16.91,20.62S1068.82,110,1079,94.1"
      />
      <path
        d="M1001.92,116.58s-2.71,14.66,15.29,17.66a50.61,50.61,0,0,0,41.54-11.47"
      />
    </g>
  </svg>
</template>

<script>
import { onMounted, ref, watch } from "vue";

import { sleep } from "../composables/useUtilities";

export default {
  setup() {
    const mainLogo = ref(null);

    watch(mainLogo, (to) => {
      const paths = to.querySelectorAll("path");

      paths.forEach(async (p) => {
        const length = p.getTotalLength();
        p.setAttribute(
          "style",
          `stroke-dasharray: ${length}px; stroke-dashoffset: ${length}px; opacity: 0;`
        );

        let delay = Math.random() * 5;

        await sleep(delay * 1000);

        p.setAttribute(
          "style",
          `stroke-dasharray: ${length}px; stroke-dashoffset: 0px; opacity: 1; transition: stroke-dashoffset 2.5s, opacity 0.5s; transition-timing-function: cubic-bezier(0.65, 0, 0, 1);`
        );
      });
    });

    return {
      mainLogo,
    };
  },
};
</script>

<style lang="scss" scoped>
.main-logo {
  path {
    fill: none;
    stroke: #000;
    stroke-linecap: round;
    stroke-miterlimit: 10;
    stroke-width: 4px;
  }
}
</style>
